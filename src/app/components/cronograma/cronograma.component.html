<mat-tab-group style="background-color: rgb(255, 219, 0); margin: 0% 3%;" class="animate__animated animate__fadeIn">
    <!-- Pestaña de Noviembre con imagen -->
    <mat-tab label="NOVIEMBRE">
        <div class="november-content" style="background-color: white;">
            <img [src]="currentImage" width="100%" alt="Imagen dinámica" class="november-image">
        </div>
    </mat-tab>

    <!-- Pestañas dinámicas para los días -->
    <mat-tab *ngFor="let day of days" [label]="day.label">
        <div class="day-content">
            <!-- <p>{{ day.content }}</p>    -->

            <mat-accordion>
                <mat-expansion-panel (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
                    <mat-expansion-panel-header>
                        <mat-panel-title> 08:00</mat-panel-title>
                        <mat-panel-description>
                            Proyección de Films
                        </mat-panel-description>
                        <mat-panel-description>
                            <b>Ciudad:</b> Guaranda

                        </mat-panel-description>
                        <mat-panel-description>
                            <b>Lugar: </b> Aula Múltiple de la UEIB Quilitagua de Guaranda

                        </mat-panel-description>

                    </mat-expansion-panel-header>
                    <table mat-table [dataSource]="dataSource" multiTemplateDataRows class="mat-elevation-z8">
                        @for (column of columnsToDisplay; track column) {
                        <ng-container matColumnDef="{{column}}">
                            <th mat-header-cell *matHeaderCellDef> {{column}} </th>
                            <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
                        </ng-container>
                        }
                        <ng-container matColumnDef="expand">
                            <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
                            <td mat-cell *matCellDef="let element">
                                <button mat-icon-button aria-label="expand row"
                                    (click)="(expandedElement = expandedElement === element ? null : element); $event.stopPropagation()">
                                    @if (expandedElement === element) {
                                    <mat-icon>keyboard_arrow_up</mat-icon>
                                    } @else {
                                    <mat-icon>keyboard_arrow_down</mat-icon>
                                    }
                                </button>
                            </td>
                        </ng-container>

                        <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
                        <ng-container matColumnDef="expandedDetail">
                            <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplayWithExpand.length">
                                <div class="example-element-detail"
                                    [@detailExpand]="element == expandedElement ? 'expanded' : 'collapsed'">
                                    <div class="example-element-diagram">
                                        <div class="example-element-symbol"> {{element.symbol}} </div>
                                        <div class="example-element-name"> {{element.name}} </div>
                                        <div class="example-element-weight"> {{element.weight}} </div>
                                    </div>
                                    <div class="example-element-description">
                                        {{element.description}}
                                        <span class="example-element-description-attribution"> -- Wikipedia </span>
                                    </div>
                                </div>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpand"></tr>
                        <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpand;"
                            class="example-element-row" [class.example-expanded-row]="expandedElement === element"
                            (click)="expandedElement = expandedElement === element ? null : element">
                        </tr>
                        <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
                    </table>

                </mat-expansion-panel>
            </mat-accordion>


            <mat-accordion>
                <mat-expansion-panel (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)" class="mat-expansion-panel-body">
                    <mat-expansion-panel-header>
                        <mat-panel-title> 09:00</mat-panel-title>
                        <mat-panel-description>
                            Proyección de Films
                        </mat-panel-description>
                        <mat-panel-description>
                            <b>Ciudad:</b> Guaranda

                        </mat-panel-description>
                        <mat-panel-description>
                            <b>Lugar: </b> Aula Múltiple de la UEIB Quilitagua de Guaranda
                        </mat-panel-description>
                    </mat-expansion-panel-header>

                    
                    <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8 mat-expansion-panel-body" style="padding: 0px,0px; margin: 0px,opx;"> 

                        <!--- Note that these columns can be defined in any order.
                              The actual rendered columns are set as a property on the row definition" -->

                        <!-- Position Column -->
                        <ng-container matColumnDef="position">
                            <th mat-header-cell *matHeaderCellDef> Peli </th>
                            <td mat-cell *matCellDef="let element"> {{element.position}} </td>
                        </ng-container>

                        <!-- Name Column -->
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef> Director </th>
                            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                        </ng-container>

                       

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="symbol">
                            <th mat-header-cell *matHeaderCellDef> Enlace </th>
                            <td mat-cell *matCellDef="let element"> <button>{{element.symbol}}</button> </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>



                </mat-expansion-panel>
                
            </mat-accordion>

        </div>
    </mat-tab>
</mat-tab-group>